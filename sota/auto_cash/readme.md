## reproduce

``` 
# 运行autocash
python main_autocash_batch.py

# 提取tshpo的性能数据
python ../extract_tshpo_perf.py

# 将tshpo与autocash比较
compare_auto_cash_and_tshpo.py

```

## 数据集元数据特征提取

目标: 提取我用数据集中的特征,提取脚本 `deps/datasets/openml/prepared_dataset_meta_features.py`

说明:

- 只提取了Auto-CASH 中认为最好的特征, 因为本文和 Auto-CASH 的任务相同, 且数据集还有重叠.

结果: `auto_cash_data_meta_fea.csv`

``` 
,dataid,data_name,mf0,mf2,mf4,mf6,mf7,mf9,mf13
0,3,kr-vs-kp,2.0,0.522215269086358,0.0,0.0,36.0,2.0,3.0
1,15,breast-w,2.0,0.6552217453505007,9.0,1.0,9.0,2.0,2.0
2,29,credit-approval,2.0,0.5550724637681159,6.0,0.4,15.0,2.0,15.0
3,31,credit-g,2.0,0.7,7.0,0.35,20.0,2.0,11.0
4,37,diabetes,2.0,0.6510416666666666,8.0,1.0,8.0,2.0,2.0
5,3021,sick,2.0,0.9387592788971368,7.0,0.2413793103448276,29.0,1.0,5.0
6,43,spambase,2.0,0.6059552271245382,57.0,1.0,57.0,2.0,2.0
7,49,tic-tac-toe,2.0,0.6534446764091858,0.0,0.0,9.0,2.0,3.0
8,219,electricity,2.0,0.5754546257062146,7.0,0.875,8.0,2.0,7.0
9,3902,pc4,2.0,0.877914951989026,37.0,1.0,37.0,2.0,2.0
10,3903,pc3,2.0,0.8976327575175944,37.0,1.0,37.0,2.0,2.0
11,3904,jm1,2.0,0.8065227377124483,21.0,1.0,21.0,2.0,2.0
12,3913,kc2,2.0,0.7950191570881227,21.0,1.0,21.0,2.0,2.0
13,3917,kc1,2.0,0.8454243717401612,21.0,1.0,21.0,2.0,2.0
14,3918,pc1,2.0,0.9305680793507665,21.0,1.0,21.0,2.0,2.0
15,14965,bank-marketing,2.0,0.8830151954170445,7.0,0.4375,16.0,2.0,12.0
16,10093,banknote-authentication,2.0,0.5553935860058309,4.0,1.0,4.0,2.0,2.0
17,10101,blood-transfusion-service-center,2.0,0.7620320855614974,4.0,1.0,4.0,2.0,2.0
18,9971,ilpd,2.0,0.7135506003430532,9.0,0.9,10.0,2.0,2.0
19,9976,madelon,2.0,0.5,500.0,1.0,500.0,2.0,2.0
20,9977,nomao,2.0,0.7143769041056144,89.0,0.7542372881355932,118.0,2.0,3.0
21,9978,ozone-level-8hr,2.0,0.9368587213891081,72.0,1.0,72.0,2.0,2.0
22,9952,phoneme,2.0,0.7065136935603257,5.0,1.0,5.0,2.0,2.0
23,9957,qsar-biodeg,2.0,0.6625592417061611,41.0,1.0,41.0,2.0,2.0
24,9946,wdbc,2.0,0.6274165202108963,30.0,1.0,30.0,2.0,2.0
25,9910,Bioresponse,2.0,0.5422553985603839,1776.0,1.0,1776.0,2.0,2.0
26,14952,PhishingWebsites,2.0,0.5569425599276345,0.0,0.0,30.0,2.0,3.0
27,14954,cylinder-bands,2.0,0.5777777777777777,18.0,0.4864864864864865,37.0,2.0,72.0
28,125920,dresses-sales,2.0,0.58,1.0,0.08333333333333333,12.0,2.0,25.0
29,167120,numerai28.6,2.0,0.5051702657807309,21.0,1.0,21.0,2.0,2.0
30,167141,churn,2.0,0.8586,16.0,0.8,20.0,2.0,10.0
31,167125,Internet-Advertisements,2.0,0.8600182982616651,3.0,0.0019255455712451862,1558.0,2.0,2.0
32,146820,wilt,2.0,0.9460632362058277,5.0,1.0,5.0,2.0,2.0
33,146819,climate-model-simulation-crashes,2.0,0.9148148148148149,18.0,1.0,18.0,2.0,2.0

```

## 在每个数据集上表现最好的算法

目标: 根据之前的实验, 找出每个数据集上表现最好的算法, 评估指标是 auto-cash 中的 fscore= acc* AUC
修改: 每个算法在每个数据集上的表现 `01_1_prepare_best_models_from_baseline.py`, 这么该的原因是让训练meta的数据集更多,防止数据集不够.
同时, 也更合理. 表现用fscore(acc+f1, 来源于 auto-cash)衡量

脚本: `sota/auto_cash/01_prepare_best_models_from_baseline.py`
结果: `autocash_每个数据集上最好的算法及其fscore.csv`

``` 
,dataset,best_model,best_autocash_fscore
0,Bioresponse,random_forest,0.7473076827999999
1,PhishingWebsites,mlp,0.9754595135999999
2,bank-marketing,random_forest,0.8495668876
3,breast-w,mlp,0.9932061776000001
4,churn,mlp,0.894080976
5,climate-model-simulation-crashes,mlp,0.96057
6,credit-approval,mlp,0.8752284431999999
7,credit-g,mlp,0.66964524
8,cylinder-bands,mlp,0.8271925619999999
9,diabetes,mlp,0.71870112
10,dresses-sales,mlp,0.49383888
11,electricity,random_forest,0.9204268760000001
12,ilpd,mlp,0.668361714
13,jm1,extra_trees,0.6456417799999999
14,kc1,mlp,0.7456105380000001
15,kr-vs-kp,mlp,0.9981000744000001
16,madelon,random_forest,0.8397247015999998
17,nomao,random_forest,0.966950988
18,ozone-level-8hr,mlp,0.9217337148000001
19,pc1,mlp,0.8774593808000001
20,pc3,mlp,0.8545085728
21,pc4,mlp,0.9099044164
22,phoneme,random_forest,0.8816352595999999
23,qsar-biodeg,mlp,0.8723047344
24,sick,random_forest,0.9928648487999999
25,spambase,random_forest,0.952905312
26,tic-tac-toe,mlp,1.0
27,wilt,mlp,0.9895625567999999

```

## 元数据特征合并

`03_autocash_meta_learner.py`: 将数据集特征和最佳算法特征融合, 生成训练meta-learner 的训练集